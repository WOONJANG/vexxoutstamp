<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>í‡´ê·¼ ê¸°ë¡ ì´ë™ì¤‘...</title>
  <script>
    // ğŸ‘‡ ë„¤ Apps Script ì›¹ì•± /exec ì£¼ì†Œë¡œ ë°”ê¾¸ê¸°
    const GAS_BASE = "https://script.google.com/macros/s/AKfycbwgDkImxvHoXI8WI0qDQ7cm1g2mqf-valwdL4f_rHhPcQf4aW7SwJ8USfe7kqTXVh_dTQ/exec";

    function getParam(k){
      const m = new RegExp("[?&]"+k+"=([^&]+)").exec(location.search);
      return m ? decodeURIComponent(m[1].replace(/\+/g, "%20")) : "";
    }

    (function () {
      const u   = getParam("u");              // ì‚¬ìš©ìëª… (ì˜ˆ: ì¥ìš´)
      const act = getParam("act") || "out";   // ê¸°ë³¸ out

      if (!u) {
        document.write("<meta http-equiv='refresh' content='0;url=?u=%EC%9E%A5%EC%9A%B4&act=out'>");
        return;
      }

      const target = GAS_BASE
        + "?u=" + encodeURIComponent(u)
        + "&act=" + encodeURIComponent(act);

      // ê°€ì¥ í™•ì‹¤í•œ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ë¸Œë¼ìš°ì € ê°•ì œ)
      try { window.top.location.replace(target); }
      catch(e) { location.replace(target); }

      // JS ëŠê¸´ í™˜ê²½ìš© ì•ˆì „ë§
      document.write("<noscript><meta http-equiv='refresh' content='0;url="+target+"'></noscript>");
    })();
  </script>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans KR',sans-serif;
         display:flex;align-items:center;justify-content:center;height:100vh;margin:0}
    .card{padding:24px;border:1px solid #eee;border-radius:16px;box-shadow:0 4px 16px rgba(0,0,0,.06);text-align:center}
    .small{color:#666;font-size:12px;margin-top:12px}
  </style>
</head>
<body>
  <div class="card">
    <h3>í‡´ê·¼ ê¸°ë¡ í˜ì´ì§€ë¡œ ì´ë™ ì¤‘â€¦</h3>
    <div class="small">ìë™ ì´ë™ì´ ì•ˆ ë˜ë©´ <a id="go" href="#">ì—¬ê¸°</a>ë¥¼ ëˆ„ë¥´ì„¸ìš”.</div>
  </div>
  <script>
    // ìˆ˜ë™ í´ë¦­ìš© ë§í¬ë„ ë™ì¼ íƒ€ê²Ÿìœ¼ë¡œ ì—°ê²°
    (function(){
      const p = new URLSearchParams(location.search);
      const u = p.get("u")||"";
      const act = p.get("act")||"out";
      const a = document.getElementById("go");
      if (a) a.href = GAS_BASE + "?u=" + encodeURIComponent(u) + "&act=" + encodeURIComponent(act);
    })();
  </script>
</body>
</html>
